(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{476:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=z(a(56)),o=z(a(57)),i=z(a(32)),r=z(a(12)),s=z(a(15)),c=z(a(13)),u=z(a(14)),l=a(2),d=z(l),p=a(29),m=a(6),y=a(259),f=a(82),h=z(a(264)),g=a(261),C=z(a(499)),v=(z(a(560)),z(a(524)),z(a(559))),E=z(a(652)),O=a(263),N=z(a(923));function z(e){return e&&e.__esModule?e:{default:e}}var b=(0,g.getEnv)(window.location.host),w=h.default.stripe_platform[b],k=h.default.base_url[b],x=function(e){function t(){(0,r.default)(this,t);var e=(0,c.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={userVerified:!1,locationVerified:!1,contactsVerified:!1,loading:!1,insurance:{},license:{},avatar:{},contacts:[],errors:[]},e.checkUserVerified=e.checkUserVerified.bind(e),e.handleInputChange=e.handleInputChange.bind(e),e.handleReturnedLocation=e.handleReturnedLocation.bind(e),e.renderButtonText=e.renderButtonText.bind(e),e.infoCriteriaMet=e.infoCriteriaMet.bind(e),e.uploadCriteriaMet=e.uploadCriteriaMet.bind(e),e.returnUploadInstance=e.returnUploadInstance.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e}return(0,u.default)(t,e),(0,s.default)(t,[{key:"handleInputChange",value:function(e){var t=this;"phone"===e.currentTarget.name?(0,O.isValidPhone)(e.currentTarget.value)?this.setState({contacts:[{id:"new-"+Math.floor(999999*Math.random()),type:"phone",content:(0,g.formatPhone)(e.currentTarget.value),validated:!0,status:"new",default:!0}],contactsVerified:!0},(function(){})):this.setState({contactsVerified:!1},(function(){})):this.setState((0,i.default)({},e.currentTarget.name,e.currentTarget.value),(function(){t.checkUserVerified()}))}},{key:"checkUserVerified",value:function(){(0,O.isValidName)(this.state.name)&&(0,O.isValidEmail)(this.state.email)&&(0,O.isValidPassword)(this.state.password)&&this.state.confirmPassword===this.state.password?this.setState({userVerified:!0},(function(){})):this.setState({userVerified:!1},(function(){}))}},{key:"handleReturnedLocation",value:function(e){var t=e.address1,a=e.address2,n=e.city,o=e.state,i=e.zip,r=e.lat,s=e.lng,c=e.workRadius;r&&s&&c&&this.setState({address1:t,address2:a,city:n,state:o,zip:i,lat:r,lng:s,workRadius:c,locationVerified:!0})}},{key:"returnUploadInstance",value:function(e){this.setState((0,i.default)({},e.opts.meta.instanceOf,e),(function(){}))}},{key:"infoCriteriaMet",value:function(){return!!(this.state.locationVerified&&this.state.userVerified&&this.state.contactsVerified)}},{key:"uploadCriteriaMet",value:function(){return!(!this.state.license.plugins||!this.state.insurance.plugins)}},{key:"runMutation",value:function(){var e=this;this.setState({loading:!this.state.loading},(0,o.default)(n.default.mark((function t(){var a,o,i,r,s,c,u,l;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.toast.info("⏱️ Creating account... One moment please.",{autoClose:!1}),a=e.state.contacts.map((function(e){return(0,y.pick)(["type","content","status","default"],e)})),t.next=4,e.props.submitPilot({contacts:a,state:e.state}).catch((function(t){e.handleGQLErrors(t)}));case 4:if(!(o=t.sent)){t.next=27;break}return i=o.data.createPilot,r=i.user,s=i.auth,t.next=9,localStorage.setItem("hf_auth_header_token",s.token);case 9:return e.state.insurance.plugins.uploader[0].opts.headers.authorization=s.token,e.state.license.plugins.uploader[0].opts.headers.authorization=s.token,t.next=13,e.state.insurance.upload();case 13:return t.sent,t.next=16,e.state.license.upload();case 16:if(t.sent,c=r.name.split(" "),u=r.contacts[0].content,!e.state.avatar.plugins){t.next=24;break}return e.state.avatar.plugins.uploader[0].opts.headers.authorization=s.token,t.next=23,e.state.avatar.upload();case 23:t.sent;case 24:"https://connect.stripe.com/express/oauth/authorize?",l="&stripe_user[email]="+r.email+"&stripe_user[first_name]="+c[0]+"&stripe_user[last_name]="+(c[1]?c[1]:"")+"&stripe_user[phone_number]="+u+'&stripe_user[country]="US"',window.location="https://connect.stripe.com/express/oauth/authorize?redirect_uri="+k+"/auth/signup-pilot&client_id="+w+"&state="+r.id+l;case 27:case"end":return t.stop()}}),t,e)}))))}},{key:"handleGQLErrors",value:function(e){var t=this;e.graphQLErrors.map((function(e){"UniqueEmailError"===e.message||"Constraint"===e.name?t.setState((function(e){return{errors:e.errors.concat({type:"email",section:"Email address is taken",message:"The email address you entered is already in use. Would you like to login?"})}})):"RequiredFieldError"===e.message&&t.setState((function(e){return{errors:e.errors.concat({type:"user",section:"Missing Required Field",message:"Please check all your info."})}}))}))}},{key:"submitErrorCheck",value:function(){if(this.infoCriteriaMet()&&this.uploadCriteriaMet())return!0;this.state.locationVerified||this.setState((function(e){return{errors:e.errors.concat({type:"location",section:"Location",message:"Please verify you submited your location and workable area."})}})),this.state.userVerified||this.setState((function(e){return{errors:e.errors.concat({type:"user",section:"User info",message:"Please make sure all your user fields are valid."})}})),this.state.contactsVerified||this.setState((function(e){return{errors:e.errors.concat({type:"contacts",section:"Phone number",message:"Please add a valid phone number."})}})),this.state.license.plugins&&this.state.insurance.plugins||this.setState((function(e){return{errors:e.errors.concat({type:"uploads",section:"Upload Documents",message:"Both Documents are required for review."})}}))}},{key:"renderErrors",value:function(){return d.default.createElement("div",{className:"error-area hide-error "+(this.state.errors.length>0?" show-error":"")},d.default.createElement("h2",{className:"text-base font-bold"},"Please correct these errors"),this.state.errors.map((function(e,t){return d.default.createElement("div",{key:"error_"+t,className:"mt-4"},d.default.createElement("h3",{className:"text-sm font-bold"},e.section),d.default.createElement("p",{className:"text-sm mt-1"},e.message),"email"===e.type?d.default.createElement(m.Link,{to:"/login",className:" action-button button-blue w-1/4 mt-2"},d.default.createElement("span",{className:" action-button-overlay"}),"Login"):null)})))}},{key:"renderButtonText",value:function(){return this.infoCriteriaMet()&&this.uploadCriteriaMet()&&this.state.avatar.plugins?"Continue...":this.infoCriteriaMet()&&this.uploadCriteriaMet()?"Don't forget your avatar...":this.infoCriteriaMet()?"License and insurance required...":"Please enter required info..."}},{key:"handleSubmit",value:function(){if(this.state.errors.length>0&&this.setState({errors:[]}),!this.submitErrorCheck())return!1;this.runMutation()}},{key:"render",value:function(){return d.default.createElement("div",{className:"signup-container"},d.default.createElement("div",{className:"w-full rounded shadow p-6 border border-grey-dark"},d.default.createElement("div",{className:"signup-header"},d.default.createElement("div",{className:"w-48 h-48"},d.default.createElement(C.default,{circle:!0,header:"Upload avatar",fileTypeName:"photo",source:"Signup-Avatar",fieldname:"avatar",mimes:"images",endpoint:"/uploads/avatar",returnUploadInstance:this.returnUploadInstance})),d.default.createElement("div",{className:"flex-1 -mr-6"},d.default.createElement("div",{className:""},d.default.createElement("div",{className:"flex"},d.default.createElement("div",{className:"flex-1"}),d.default.createElement(m.Link,{className:"w-32 h-8 block",to:"/"},d.default.createElement("img",{src:"/"+a(43)}))),d.default.createElement("div",{className:"text-right text-sm"},"Step ",d.default.createElement("strong",null,"1")," of 2 | ",d.default.createElement("strong",null,"Create Account"))),d.default.createElement("div",{className:"px-6 py-6"},d.default.createElement("div",{className:"mb-4"},d.default.createElement("div",{className:"text-xs"},"Full name"),d.default.createElement("input",{onChange:this.handleInputChange,className:"input",name:"name",type:"text",placeholder:"Full Name"})),d.default.createElement("div",{className:"f"},d.default.createElement("div",{className:"text-xs"},"Phone number"),d.default.createElement(E.default,{mask:"1 \\(999\\) 999-9999 \\ext. 9999",maskChar:"_",onChange:this.handleInputChange,className:"input",name:"phone",type:"tel",placeholder:"Phone number"}))))),d.default.createElement("div",{className:"border-b"},d.default.createElement("div",{className:"mb-4"},d.default.createElement("div",{className:"text-xs"},"Email address"),d.default.createElement("input",{onChange:this.handleInputChange,className:"input",name:"email",type:"text",placeholder:"Email address"})),d.default.createElement("div",{className:"flex mb-4 -mx-2"},d.default.createElement("div",{className:"flex-1 mx-2"},d.default.createElement("div",{className:"text-xs"},"Create password"),d.default.createElement("input",{onChange:this.handleInputChange,className:"input",name:"password",type:"password",placeholder:"Create password"}),d.default.createElement("div",{className:"text-xs mt-1"},"Password must be at least 8 characters in with capital and lowercase letters and include at least one number.")),d.default.createElement("div",{className:"flex-1 mx-2"},d.default.createElement("div",{className:"text-xs"},"Confirm password"),d.default.createElement("input",{onChange:this.handleInputChange,className:"input",name:"confirmPassword",type:"password",placeholder:"Confirm password"})))),d.default.createElement("div",null,d.default.createElement("h3",{className:"my-4"},"Piloting info"),d.default.createElement("div",{className:"flex -mx-2"},d.default.createElement("div",{className:"flex-1 mx-2"},d.default.createElement("div",{className:"text-xs"},"FAA License"),d.default.createElement("div",{className:""},d.default.createElement(C.default,{header:"Upload FAA License",padding:!0,fileTypeName:"FAA license",source:"Signup-License",fieldname:"license",mimes:"documents",endpoint:"/uploads/license",returnUploadInstance:this.returnUploadInstance}))),d.default.createElement("div",{className:"flex-1 mx-2"},d.default.createElement("div",{className:"text-xs"},"Insurance"),d.default.createElement("div",{className:""},d.default.createElement(C.default,{header:"Upload insurance",padding:!0,fileTypeName:"proof of insurance",source:"Signup-Insurance",fieldname:"insurance",mimes:"documents",endpoint:"/uploads/insurance",returnUploadInstance:this.returnUploadInstance})))),d.default.createElement("div",{className:"my-4"},d.default.createElement(v.default,{handleReturnedLocation:this.handleReturnedLocation})),this.renderErrors(),d.default.createElement("div",{className:"my-4"},d.default.createElement("h3",{className:"text-sm font-bold"},"Next step"),d.default.createElement("p",{className:"text-sm"}," Next is to set up how you get paid, we set this all up through Stripe for simple secure payouts. Submitting this form will create your account and briefly redirect you to a Stripe processing page. After which you will be redirected back and be logged in.")),d.default.createElement("div",{className:"mt-4"},d.default.createElement("a",{className:" action-button button-green",onClick:this.handleSubmit},d.default.createElement("span",{className:" action-button-overlay"}),this.renderButtonText())))))}}]),t}(l.Component);t.default=(0,p.graphql)(N.default,{props:function(e){e.ownProps;var t=e.mutate;return{submitPilot:function(e){var a=e.state,n=e.contacts;return t({variables:{input:{user:{name:a.name,email:a.email,password:a.password,contacts:n,workRadius:a.workRadius,address:{address1:a.address1,address2:a.address2,city:a.city,state:a.state,zipCode:a.zip,lat:a.lat,lng:a.lng}}}}})}}}})(x)},492:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(a(56)),o=p(a(57)),i=p(a(12)),r=p(a(15)),s=p(a(13)),c=p(a(14)),u=a(2),l=p(u),d=p(a(508));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={addressVerified:!1,addressSupprted:!0},e.deconstructPlaceIntoState=e.deconstructPlaceIntoState.bind(e),e}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("addressToFilm"),a=new google.maps.places.Autocomplete(t,{componentRestrictions:{country:"us"}});google.maps.event.addListener(a,"place_changed",(function(){var t=a.getPlace();if(t){t.geometry.location.lat(),t.geometry.location.lng();e.normalizeGooglePlace(t)}}))}},{key:"normalizeGooglePlace",value:function(e){var t={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};e.address_components.forEach((function(e,a){switch(e.types[0]){case"route":t.street=e.long_name;break;case"locality":t.city=e.long_name;break;case"country":t.country=e.long_name;break;case"street_number":t.street_number=e.long_name;break;case"postal_code":t.zip=e.long_name;break;case"administrative_area_level_1":t.state=e.short_name}})),this.deconstructPlaceIntoState(t)}},{key:"deconstructPlaceIntoState",value:function(e){var t=this;d.default.filter((function(t){return t.zipcode===e.zip})).length>0?this.setState({address1:e.street_number+" "+e.street,address2:"",city:e.city,state:e.state,zip:e.zip,lat:e.lat,lng:e.lng},(0,o.default)(n.default.mark((function e(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({addressVerified:!0,addressSupprted:!0}),t.props.handleReturnedLocation(t.state);case 2:case"end":return e.stop()}}),e,t)})))):this.setState({addressSupprted:!1})}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement("div",{className:"relative"},l.default.createElement("input",{type:"textfield",className:"input pl-8",id:"addressToFilm"}),l.default.createElement("span",{className:"input-icon pin-l"},l.default.createElement("i",{className:"fa fa-home"}))),l.default.createElement("div",{className:"error-area hide-error "+(this.state.addressSupprted?"":"show-error")},"Unfortunatley the area you selected is not supported yet. Please be patient and check back soon."))}}]),t}(u.Component);t.default=m},508:function(e){e.exports=JSON.parse('[{"zipcode":"92602","city":"Irvine","county":"Orange County"},{"zipcode":"92603","city":"Irvine","county":"Orange County"},{"zipcode":"92604","city":"Irvine","county":"Orange County"},{"zipcode":"92605","city":"Huntington Beach","county":"Orange County"},{"zipcode":"92606","city":"Irvine","county":"Orange County"},{"zipcode":"92607","city":"Laguna Beach","county":"Orange County"},{"zipcode":"92607","city":"Laguna Niguel","county":"Orange County"},{"zipcode":"92609","city":"El Toro","county":"Orange County"},{"zipcode":"92609","city":"Lake Forest","county":"Orange County"},{"zipcode":"92610","city":"El Toro","county":"Orange County"},{"zipcode":"92610","city":"Foothill Ranch","county":"Orange County"},{"zipcode":"92612","city":"Irvine","county":"Orange County"},{"zipcode":"92614","city":"Laguna Niguel","county":"Orange County"},{"zipcode":"92609","city":"Huntington Beach","county":"Orange County"},{"zipcode":"92609","city":"Lake Forest","county":"Orange County"},{"zipcode":"92610","city":"El Toro","county":"Orange County"},{"zipcode":"92610","city":"Foothill Ranch","county":"Orange County"},{"zipcode":"92612","city":"Irvine","county":"Orange County"},{"zipcode":"92614","city":"Irvine","county":"Orange County"},{"zipcode":"92615","city":"Huntington Beach","county":"Orange County"},{"zipcode":"92616","city":"Irvine","county":"Orange County"},{"zipcode":"92618","city":"Irvine","county":"Orange County"},{"zipcode":"92619","city":"Irvine","county":"Orange County"},{"zipcode":"92620","city":"Irvine","county":"Orange County"},{"zipcode":"92623","city":"Irvine","county":"Orange County"},{"zipcode":"92624","city":"Capistrano Beach","county":"Orange County"},{"zipcode":"92624","city":"Dana Point","county":"Orange County"},{"zipcode":"92625","city":"Corona Del Mar","county":"Orange County"},{"zipcode":"92626","city":"Costa Mesa","county":"Orange County"},{"zipcode":"92627","city":"Costa Mesa","county":"Orange County"},{"zipcode":"92628","city":"Costa Mesa","county":"Orange County"},{"zipcode":"92629","city":"Monarch Bay","county":"Orange County"},{"zipcode":"92629","city":"Monarch Beach","county":"Orange County"},{"zipcode":"92629","city":"Dana Point","county":"Orange County"},{"zipcode":"92630","city":"El Toro","county":"Orange County"},{"zipcode":"92630","city":"Lake Forest","county":"Orange County"},{"zipcode":"92629","city":"Dana Point","county":"Orange County"},{"zipcode":"92630","city":"El Toro","county":"Orange County"},{"zipcode":"92630","city":"Lake Forest","county":"Orange County"},{"zipcode":"92637","city":"Laguna Hills","county":"Orange County"},{"zipcode":"92646","city":"Huntington Beach","county":"Orange County"},{"zipcode":"92647","city":"Huntington Beach","county":"Orange County"},{"zipcode":"92648","city":"Huntington Beach","county":"Orange County"},{"zipcode":"92649","city":"Huntington Beach","county":"Orange County"},{"zipcode":"92637","city":"Laguna Hills","county":"Orange County"},{"zipcode":"92646","city":"Huntington Beach","county":"Orange County"},{"zipcode":"92647","city":"Huntington Beach","county":"Orange County"},{"zipcode":"92650","city":"East Irvine","county":"Orange County"},{"zipcode":"92650","city":"Irvine","county":"Orange County"},{"zipcode":"92651","city":"Laguna Beach","county":"Orange County"},{"zipcode":"92652","city":"Laguna Beach","county":"Orange County"},{"zipcode":"92653","city":"Laguna Beach","county":"Orange County"},{"zipcode":"92653","city":"Aliso Viejo","county":"Orange County"},{"zipcode":"92653","city":"Laguna Beach","county":"Orange County"},{"zipcode":"92653","city":"Laguna Hills","county":"Orange County"},{"zipcode":"92654","city":"Laguna Woods","county":"Orange County"},{"zipcode":"92654","city":"Laguna Beach","county":"Orange County"},{"zipcode":"92654","city":"Laguna Hills","county":"Orange County"},{"zipcode":"92655","city":"Midway City","county":"Orange County"},{"zipcode":"92656","city":"Aliso Viejo","county":"Orange County"},{"zipcode":"92656","city":"Laguna Beach","county":"Orange County"},{"zipcode":"92656","city":"Laguna Hills","county":"Orange County"},{"zipcode":"92657","city":"Newport Coast","county":"Orange County"},{"zipcode":"92657","city":"Newport Coast","county":"Orange County"},{"zipcode":"92658","city":"Newport Coast","county":"Orange County"},{"zipcode":"92659","city":"Newport Coast","county":"Orange County"},{"zipcode":"92660","city":"Newport Coast","county":"Orange County"},{"zipcode":"92661","city":"Newport Coast","county":"Orange County"},{"zipcode":"92662","city":"Newport Coast","county":"Orange County"},{"zipcode":"92663","city":"Newport Coast","county":"Orange County"},{"zipcode":"92672","city":"San Clemente","county":"Orange County"},{"zipcode":"92673","city":"San Clemente","county":"Orange County"},{"zipcode":"92674","city":"San Clemente","county":"Orange County"},{"zipcode":"92675","city":"Mission Viejo","county":"Orange County"},{"zipcode":"92675","city":"San Juan Capistrano","county":"Orange County"},{"zipcode":"92676","city":"Silverado","county":"Orange County"},{"zipcode":"92677","city":"Laguna Beach","county":"Orange County"},{"zipcode":"92677","city":"Laguna Niguel","county":"Orange County"},{"zipcode":"92678","city":"Trabuco","county":"Orange County"},{"zipcode":"92679","city":"Coto De Caza","county":"Orange County"},{"zipcode":"92679","city":"Dove Canyon","county":"Orange County"},{"zipcode":"92679","city":"Portola Hills","county":"Orange County"},{"zipcode":"92679","city":"Robinson Ranch","county":"Orange County"},{"zipcode":"92679","city":"Trabuco Cyn","county":"Orange County"},{"zipcode":"92679","city":"Trabuco","county":"Orange County"},{"zipcode":"92683","city":"Westminster","county":"Orange County"},{"zipcode":"92684","city":"Westminster","county":"Orange County"},{"zipcode":"92685","city":"Westminster","county":"Orange County"},{"zipcode":"92688","city":"Rancho Santa Margarita","county":"Orange County"},{"zipcode":"92690","city":"Mission Viejo","county":"Orange County"},{"zipcode":"92690","city":"San Juan Capistrano","county":"Orange County"},{"zipcode":"92691","city":"Mission Viejo","county":"Orange County"},{"zipcode":"92691","city":"San Juan Capistrano","county":"Orange County"},{"zipcode":"92692","city":"Mission Viejo","county":"Orange County"},{"zipcode":"92692","city":"San Juan Capistrano","county":"Orange County"},{"zipcode":"92693","city":"San Juan Capistrano","county":"Orange County"},{"zipcode":"92694","city":"Ladera Ranch","county":"Orange County"},{"zipcode":"92694","city":"Mission Viejo","county":"Orange County"}]')},559:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(12)),o=l(a(15)),i=l(a(13)),r=l(a(14)),s=a(2),c=l(s),u=l(a(492));function l(e){return e&&e.__esModule?e:{default:e}}var d=[10,20,30,40,50],p=function(e){function t(){(0,n.default)(this,t);var e=(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={radiusOpen:!1,isGeolocatable:!0,isFinding:!1},e.toggleRadiusOpen=e.toggleRadiusOpen.bind(e),e.handleRadiusChange=e.handleRadiusChange.bind(e),e.geolocateSuccess=e.geolocateSuccess.bind(e),e.geolocateError=e.geolocateError.bind(e),e.handleMapperLocation=e.handleMapperLocation.bind(e),e.showAddressMapper=e.showAddressMapper.bind(e),e.findLocation=e.findLocation.bind(e),e}return(0,r.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){navigator.geolocation||this.setState({isGeolocatable:!1})}},{key:"handleMapperLocation",value:function(e){this.setState({lat:e.lat,lng:e.lng},(function(){this.props.handleReturnedLocation(this.state)}))}},{key:"showAddressMapper",value:function(){return c.default.createElement(u.default,{handleReturnedLocation:this.handleMapperLocation})}},{key:"showGeolocatorButton",value:function(){return c.default.createElement("a",{className:" action-button button-blue hover:cursor-pointer",onClick:this.findLocation},c.default.createElement("span",{className:"icon"},c.default.createElement("i",{className:"inline-block mr-3 fas fa-"+(this.state.lat?"check text-green-dark":"location-arrow")})),c.default.createElement("span",null,this.state.lat?"Got it, thanks":"Get Location Information"),c.default.createElement("span",{className:" action-button-overlay"}))}},{key:"handleRadiusChange",value:function(e){e&&this.setState({workRadius:e.currentTarget.getAttribute("radius"),properRadiusText:e.currentTarget.getAttribute("proper"),radiusOpen:!this.state.radiusOpen},(function(){this.props.handleReturnedLocation(this.state)}))}},{key:"toggleRadiusOpen",value:function(){this.setState({radiusOpen:!this.state.radiusOpen})}},{key:"geolocateSuccess",value:function(e){this.setState({isFinding:!1,lat:e.coords.latitude,lng:e.coords.longitude},(function(){this.props.handleReturnedLocation(this.state)}))}},{key:"geolocateError",value:function(){this.setState({isFinding:!1,isGeolocatable:!1})}},{key:"findLocation",value:function(){this.setState({isFinding:!0},(function(){try{navigator.geolocation.getCurrentPosition(this.geolocateSuccess,this.geolocateError)}catch(e){this.geolocateError}}))}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"relative rounded-lg border border-grey-light bg-grey-lighter p-4"},c.default.createElement("div",{id:"fetching-location-coords",className:"spinner "+(this.state.isFinding?"opacity-100":"")},c.default.createElement("i",{className:"fa fa-cog fa-spin fa-2x fa-fw","aria-hidden":"true"})),c.default.createElement("p",{className:"text-sm"},"In order to send you local homes to film we need to gather your location information and the radius of the area you would like to work."),c.default.createElement("div",{className:"flex mt-4"},c.default.createElement("div",{className:"mr-4"},c.default.createElement("div",{className:"dropdown relative "+(this.state.radiusOpen?"is-active":"")},c.default.createElement("div",{className:"dropdown-trigger hover:cursor-pointer",onClick:this.toggleRadiusOpen},c.default.createElement("button",{className:"select-faker","aria-haspopup":"true","aria-controls":"dropdown-menu"},c.default.createElement("span",null,this.state.properRadiusText?this.state.properRadiusText:"Work radius"),c.default.createElement("span",{className:"inline-block ml-6"},c.default.createElement("i",{className:"fa fa-angle-down","aria-hidden":"true"})))),c.default.createElement("div",{className:"dropdown-menu "+(this.state.radiusOpen?"block":"hidden"),id:"dropdown-menu",role:"menu"},c.default.createElement("div",{className:"p-2 flex flex-wrap bg-white border border-grey rounded"},d.map((function(t,a){return c.default.createElement("a",{radius:t,proper:t.toString()+" miles",onClick:e.handleRadiusChange,className:"w-full block px-2 py-1 hover:cursor-pointer",key:"radius_"+t.toString()},t.toString()+" miles")})))))),c.default.createElement("div",{className:"flex-1"},this.state.isGeolocatable?this.showGeolocatorButton():this.showAddressMapper())))}}]),t}(s.Component);t.default=p},560:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(32)),o=d(a(12)),i=d(a(15)),r=d(a(13)),s=d(a(14)),c=a(2),u=d(c),l=(a(16),d(a(561)),a(263));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){(0,o.default)(this,t);var e=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleInputChange=e.handleInputChange.bind(e),e}return(0,s.default)(t,e),(0,i.default)(t,[{key:"handleInputChange",value:function(e){var t=this;this.setState((0,n.default)({},e.currentTarget.name,e.currentTarget.value),(function(){t.checkUserVerified()}))}},{key:"checkUserVerified",value:function(){(0,l.isValidName)(this.state.name)&&(0,l.isValidEmail)(this.state.email)&&(0,l.isValidPassword)(this.state.password)&&this.state.confirmPassword===this.state.password?this.props.handleReturnedUser(!0,this.state):this.props.userVerified&&this.props.handleReturnedUser(!1,this.state)}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement("div",{className:"columns"},u.default.createElement("div",{className:"field column"},u.default.createElement("div",{className:"control has-icons-left has-icons-right"},u.default.createElement("input",{onChange:this.handleInputChange,className:"input is-medium",name:"name",type:"text",placeholder:"Full Name"}),u.default.createElement("span",{className:"icon is-medium is-left"},u.default.createElement("i",{className:"fa fa-user"})))),u.default.createElement("div",{className:"field column"},u.default.createElement("div",{className:"control has-icons-left has-icons-right"},u.default.createElement("input",{onChange:this.handleInputChange,className:"input is-medium",name:"email",type:"email",placeholder:"Email"}),u.default.createElement("span",{className:"icon is-medium is-left"},u.default.createElement("i",{className:"fa fa-envelope"}))))),u.default.createElement("div",{className:"columns"},u.default.createElement("div",{className:"field column"},u.default.createElement("div",{className:"control has-icons-left has-icons-right"},u.default.createElement("input",{onChange:this.handleInputChange,className:"input is-medium",name:"password",type:"password",placeholder:"Password"}),u.default.createElement("span",{className:"icon is-medium is-left"},u.default.createElement("i",{className:"fa fa-key"})))),u.default.createElement("div",{className:"field column"},u.default.createElement("div",{className:"control has-icons-left has-icons-right"},u.default.createElement("input",{onChange:this.handleInputChange,className:"input is-medium",name:"confirmPassword",type:"password",placeholder:"Re-type Password"}),u.default.createElement("span",{className:"icon is-medium is-left"},u.default.createElement("i",{className:"fa fa-lock"}))))))}}]),t}(c.Component);t.default=p},561:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i,r=a(32),s=(n=r)&&n.__esModule?n:{default:n},c=a(16),u=a(23);var l=c.StyleSheet.create({mainContainer:{maxWidth:"768px",padding:"2rem"},container:{paddingBottom:"2rem"},subtitle:{fontFamily:"Avenir Next, Helvetica, Arial, sans-serif",fontSize:"1.2rem",color:u.c.grey,marginBottom:"0px"},row:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},area:{":first-child":(o={},(0,s.default)(o,u.ss.sm,{width:"100%"}),(0,s.default)(o,u.ss.md,{width:"calc(50% - 2rem)",marginRight:"2rem"}),o),":last-child":(i={},(0,s.default)(i,u.ss.sm,{width:"100%"}),(0,s.default)(i,u.ss.md,{width:"calc(50% - 2rem)",marginLeft:"2rem"}),i)},element:{fontFamily:"Avenir Next, Helvetica, Arial, sans-serif",fontSize:"1rem",width:"100%"},section:{paddingBottom:"3rem"},check:{color:u.c.green,paddingLeft:"20px",transition:"all .5s ease-in-out"},sectionHeader:{fontFamily:"Avenir Next, Helvetica, Arial, sans-serif",fontSize:"2rem",paddingBottom:"1rem",borderBottom:"1px solid "+u.c.lightGrey}});t.default=l},923:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(0,o(a(31)).default)(["\n  mutation($input: PilotInput) {\n    createPilot(input: $input){\n      user {\n        id\n        name\n        email\n        customerId\n        type\n        workRadius\n        contacts{\n          type\n          content\n        }\n        address {\n          address1\n          address2\n          city\n          state\n          zipCode\n          lat\n          lng\n        }\n      }\n      auth {\n        token\n      }\n    }\n  }\n"],["\n  mutation($input: PilotInput) {\n    createPilot(input: $input){\n      user {\n        id\n        name\n        email\n        customerId\n        type\n        workRadius\n        contacts{\n          type\n          content\n        }\n        address {\n          address1\n          address2\n          city\n          state\n          zipCode\n          lat\n          lng\n        }\n      }\n      auth {\n        token\n      }\n    }\n  }\n"]);function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,o(a(30)).default)(n);t.default=i}}]);